<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
     
    <title>zzamboni.org  | Just Enough Lua to Be Productive in Hammerspoon, Part 1</title>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">

    <meta name="viewport" content="width=device-width,minimum-scale=1">
     <meta name="generator" content="Hugo 0.45.1" />
      
      
        <META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">
      

     <link href='https://zzamboni.org/dist/main.css' rel='stylesheet' type="text/css" />
     <link href='https://zzamboni.org/css/site.css' rel='stylesheet' type="text/css" />
     <link href='https://zzamboni.org/css/syntax.css' rel='stylesheet' type="text/css" />

     

      <meta property="og:title" content="Just Enough Lua to Be Productive in Hammerspoon, Part 1" />
<meta property="og:description" content="Hammerspoon&rsquo;s configuration files are written in Lua, so a basic
knowledge of the language is very useful to be an effective user of
Hammerspoon. In this 2-part article I will show you the basics of Lua
so you can read and write Hammerspoon configuration. Along the way you
will discover that Lua is a surprisingly powerful language.

" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zzamboni.org/post/just-enough-lua-to-be-productive-in-hammerspoon-part-1/" />



<meta property="article:published_time" content="2017-10-21T20:36:28&#43;00:00"/>

<meta property="article:modified_time" content="2017-10-21T20:36:28&#43;00:00"/>











<meta itemprop="name" content="Just Enough Lua to Be Productive in Hammerspoon, Part 1">
<meta itemprop="description" content="Hammerspoon&rsquo;s configuration files are written in Lua, so a basic
knowledge of the language is very useful to be an effective user of
Hammerspoon. In this 2-part article I will show you the basics of Lua
so you can read and write Hammerspoon configuration. Along the way you
will discover that Lua is a surprisingly powerful language.

">


<meta itemprop="datePublished" content="2017-10-21T20:36:28&#43;00:00" />
<meta itemprop="dateModified" content="2017-10-21T20:36:28&#43;00:00" />
<meta itemprop="wordCount" content="1321">



<meta itemprop="keywords" content="hammerspoon,lua,howto,mac," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Just Enough Lua to Be Productive in Hammerspoon, Part 1"/>
<meta name="twitter:description" content="Hammerspoon&rsquo;s configuration files are written in Lua, so a basic
knowledge of the language is very useful to be an effective user of
Hammerspoon. In this 2-part article I will show you the basics of Lua
so you can read and write Hammerspoon configuration. Along the way you
will discover that Lua is a surprisingly powerful language.

"/>

        
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-109878074-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-2108021418174840",
    enable_page_level_ads: true
  });
</script>
      
      <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon.png">
      <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
      <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
      <link rel="manifest" href="/manifest.json">
      <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  </head>

  <body class="ma0 avenir bg-near-white production">

    
   
  

  
  
  <header class="cover bg-center" style="background-image: url('https://zzamboni.org/images/lua-logo.svg');">
    <div class="pb5-l bg-black-60">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="https://zzamboni.org/" class="f3 fw2 hover-white no-underline white-90 dib">
      zzamboni.org
    </a>
    <div class="flex-l items-center">
      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/post/" title="Blog page">
              Blog
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/book/" title="Books page">
              Books
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/code/" title="Code page">
              Code
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/tags/" title="Tags page">
              Tags
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/contact/" title="Contact page">
              Contact
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/about/" title="About page">
              About
            </a>
          </li>
          
        </ul>
      
      



  <a href="https://twitter.com/zzamboni" class="link-transition twitter link dib z-999 pt3 pt0-l mr2" title="Twitter link">
    <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/></svg>

  </a>




    </div>
  </div>
</nav>

      <div class="tc-l pv4 ph3 ph4-ns">
        <h1 class="f2 f1-l fw2 white-90 mb0 mt0 lh-title">Just Enough Lua to Be Productive in Hammerspoon, Part 1</h1>
        
      </div>
    </div>
  </header>



    <main class="pb7" role="main">
      
  <div class="flex-l mt2 mw8 center">
    <article class="center cf pv5 ph3 ph4-ns mw7">
      <p class="f6 b helvetica tracked">
        
        POST
      </p>
      <h1 class="f1 athelas">
        Just Enough Lua to Be Productive in Hammerspoon, Part 1
      </h1>
        
        
      <time class="f6 mv4 dib tracked" datetime="2017-10-21T20:36:28Z">
        October 21, 2017
      </time>
      <section class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray">
        <p>Hammerspoon&rsquo;s configuration files are written in Lua, so a basic
knowledge of the language is very useful to be an effective user of
Hammerspoon. In this 2-part article I will show you the basics of Lua
so you can read and write Hammerspoon configuration. Along the way you
will discover that Lua is a surprisingly powerful language.</p>

<p></p>

<p>Lua is a scripting language created in 1993, and focused from the
beginning in being an embedded language for extending other
applications. It is easy to learn and use while having pretty powerful
features, and is frequently used in games, but also in <a href="https://en.wikipedia.org/wiki/List_of_applications_using_Lua">many other
applications</a>
including, of course, Hammerspoon.</p>

<p>The purpose of this section is to give you a quick overview of the Lua
features and peculiarities you may find most useful for developing
Hammerspoon policies. I assume you are a programmer who knows some
other C-like language&ndash;if you already know C, Java, Ruby, Python,
Perl, Javascript or some similar language, picking up Lua should be
pretty easy. Instead of detailing every structure, I will focus on the
aspects that are most different or that are most likely to trip you up
as you learn it.</p>

<h2 id="flow-control">Flow control</h2>

<p>Lua includes all the common flow-control structures you might
expect. Some examples:</p>
<div class="highlight"><pre class="chroma"><code class="language-lua" data-lang="lua"><span class="kd">local</span> <span class="n">info</span> <span class="o">=</span> <span class="s2">&#34;No package selected&#34;</span>
<span class="kr">if</span> <span class="n">pkg</span> <span class="ow">and</span> <span class="n">pkg</span> <span class="o">~=</span> <span class="s2">&#34;&#34;</span> <span class="kr">then</span>
   <span class="n">info</span><span class="p">,</span> <span class="n">st</span> <span class="o">=</span> <span class="n">hs.execute</span><span class="p">(</span><span class="s2">&#34;/usr/local/bin/brew info &#34;</span> <span class="o">..</span> <span class="n">pkg</span><span class="p">)</span>
   <span class="kr">if</span> <span class="n">st</span> <span class="o">==</span> <span class="kc">nil</span> <span class="kr">then</span>
      <span class="n">info</span> <span class="o">=</span> <span class="s2">&#34;No information found about formula &#39;&#34;</span> <span class="o">..</span> <span class="n">pkg</span> <span class="o">..</span> <span class="s2">&#34;&#39;!&#34;</span>
   <span class="kr">end</span>
<span class="kr">end</span></code></pre></div>
<p>In this example, in addition to the <a href="https://www.lua.org/manual/5.3/manual.html#3.3.4"><code>if</code></a>
statement, you can see in the line that runs <a href="http://www.hammerspoon.org/docs/hs.html#execute"><code>hs.execute</code></a>
that Lua functions can return multiple values (which is not the same
as returning an array, which counts as a single value). Within the
function, this is implemented simply by separating the values with
commas in the <code>return</code> statement, like this: <code>return val1, val2</code>. You
can also see in action the following operators:</p>

<ul>
<li><p><code>==</code> for equality;</p></li>

<li><p><code>~=</code> for inequality (in this respect it differs from most C-like languages, which use <code>!=</code>);</p></li>

<li><p><code>..</code> for string concatenation;</p></li>

<li><p><code>and</code> for the logical AND operation (by extension, you can deduct that <code>or</code> and <code>not</code> are also available).</p></li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-lua" data-lang="lua"><span class="kd">local</span> <span class="n">doReload</span> <span class="o">=</span> <span class="kc">false</span>
<span class="kr">for</span> <span class="n">_</span><span class="p">,</span><span class="n">file</span> <span class="kr">in</span> <span class="n">pairs</span><span class="p">(</span><span class="n">files</span><span class="p">)</span> <span class="kr">do</span>
   <span class="kr">if</span> <span class="n">file</span><span class="p">:</span><span class="n">sub</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&#34;.lua&#34;</span> <span class="ow">and</span> <span class="p">(</span><span class="ow">not</span> <span class="n">string.match</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="s1">&#39;/[.]#&#39;</span><span class="p">))</span> <span class="kr">then</span>
      <span class="n">doReload</span> <span class="o">=</span> <span class="kc">true</span>
   <span class="kr">end</span>
<span class="kr">end</span></code></pre></div>
<p>In this example we see the <a href="https://www.lua.org/manual/5.3/manual.html#3.3.5"><code>for</code></a> statement in its
so-called <em>generic form</em>:</p>
<div class="highlight"><pre class="chroma"><code class="language-lua" data-lang="lua"><span class="kr">for</span> <span class="o">&lt;</span><span class="n">var</span><span class="o">&gt;</span> <span class="kr">in</span> <span class="o">&lt;</span><span class="n">expression</span><span class="o">&gt;</span> <span class="kr">do</span> <span class="o">&lt;</span><span class="n">block</span><span class="o">&gt;</span> <span class="kr">end</span></code></pre></div>
<p>This statement loops the variables over the values returned by the
expressions, executing the block with each the consecutive value until
it becomes <code>nil</code>.</p>

<aside class="admonition tip">
	<div class="admonition-icon">
		<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 8 8">
  <path d="M3.41 0a.5.5 0 0 0-.13.06l-3 1.5a.5.5 0 1 0 .44.88l3-1.5a.5.5 0 0 0-.31-.94zm1 1.5a.5.5 0 0 0-.13.06l-4 2a.5.5 0 1 0 .44.88l4-2a.5.5 0 0 0-.31-.94zm0 2a.5.5 0 0 0-.13.06l-3 1.5a.5.5 0 0 0 .22.94h2a.5.5 0 0 0 .16-1l1.06-.56a.5.5 0 0 0-.31-.94zm-2.56 3.5a.5.5 0 0 0 .16 1h1a.5.5 0 1 0 0-1h-1a.5.5 0 0 0-.09 0 .5.5 0 0 0-.06 0z"
  transform="translate(1)" />
</svg>

	</div>
	
	
	<div class="admonition-content"><p>Strictly speaking, <code>expression</code> is executed once and its value must be
an <em>iterator function</em>, which returns one new value from the sequence
every time it is called, returning <code>nil</code> at the end.</p>
</div>
</aside>


<p>The <code>for</code> statement also has a <em>numeric form</em>:</p>
<div class="highlight"><pre class="chroma"><code class="language-lua" data-lang="lua"><span class="kr">for</span> <span class="o">&lt;</span><span class="n">var</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">first</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">last</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">inc</span><span class="o">&gt;</span> <span class="kr">do</span> <span class="o">&lt;</span><span class="n">block</span><span class="o">&gt;</span> <span class="kr">end</span></code></pre></div>
<p>This form loops the variable from the first to the last value,
incrementing it by the given increment (defaults to 1) at each
iteration.</p>

<p>Going back to our example, we can also learn the following:</p>

<ul>
<li><p>The <a href="https://www.lua.org/manual/5.3/manual.html#pdf-pairs"><code>pairs()</code></a> function, which loops over a table. We will
learn more about Lua tables below, but they can be used to represent
both regular and associative arrays. <code>pairs()</code> treats the <code>files</code>
variable as an associative array, and returns in each iteration a
key/value pair of its contents.</p></li>

<li><p>The <code>_</code> variable, while not special per se, is used by convention in
Lua for &ldquo;throwaway values&rdquo;. In this case we are not interested in
the key in each iteration, just the value, so we assign the key to
<code>_</code>, never to be used again.</p></li>

<li><p>Our first glimpse into the Lua <a href="https://www.lua.org/manual/5.3/manual.html#6.4"><code>string library</code></a>,
and the two ways in which it can be used:</p>

<ul>
<li><p>In <code>file:sub(-4)</code>, the colon indicates the object-oriented
notation (see &ldquo;Lua dot-vs-colon method access&rdquo; below). This
invokes the <a href="https://www.lua.org/manual/5.3/manual.html#pdf-string.sub"><code>string.sub()</code></a> function, automatically
passing the <code>file</code> variable as its first argument. This
statement is equivalent to <code>string.sub(file, -4)</code>.</p></li>

<li><p>In <code>string.match(file, '/')</code>, we see the function notation used
to call <a href="https://www.lua.org/manual/5.3/manual.html#pdf-string.match"><code>string.match()</code></a>. Since the <code>file</code> variable
is being passed as the first argument, you could rewrite this
statement as <code>file:match('/[.]')</code>. In practice, I’ve found
myself using both notations somewhat exchangeably - feel free to
use whichever you find most comfortable.</p></li>
</ul></li>
</ul>

<h2 id="dot-vs-colon-method-access-in-lua">Dot-vs-colon method access in Lua</h2>

<p>You will notice that sometimes, functions contained within a module
are called with a dot, and others with a colon. The latter is Lua’s
object-method-call notation, and its effect is to pass the object on
which the method is being called as an implicit first argument called
<code>self</code>. This is simply a syntactic shortcut, i.e. the following two
are equivalent:</p>
<div class="highlight"><pre class="chroma"><code class="language-lua" data-lang="lua"><span class="n">file</span><span class="p">:</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;/[.]&#39;</span><span class="p">)</span>
<span class="n">string.match</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="s1">&#39;/&#39;</span><span class="p">)</span></code></pre></div>
<p>Note that in the second statement, we are calling the method using the
dot notation, and explicitly passing the object as the first
argument. Normally you would use colon notation, but when you need a
function pointer, you need to use the dot notation.</p>

<h2 id="functions">Functions</h2>

<p>Functions are defined using the <code>function</code> keyword.</p>
<div class="highlight"><pre class="chroma"><code class="language-lua" data-lang="lua"><span class="kr">function</span> <span class="nf">leftDoubleClick</span><span class="p">(</span><span class="n">modifiers</span><span class="p">)</span>
   <span class="kd">local</span> <span class="n">pos</span><span class="o">=</span><span class="n">hs.mouse</span><span class="p">.</span><span class="n">getAbsolutePosition</span><span class="p">()</span> <span class="c1">-- &lt;1&gt;</span>
   <span class="n">hs.eventtap</span><span class="p">.</span><span class="n">event.newMouseEvent</span><span class="p">(</span>
     <span class="n">hs.eventtap</span><span class="p">.</span><span class="n">event.types</span><span class="p">.</span><span class="n">leftMouseDown</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">modifiers</span><span class="p">)</span> <span class="c1">-- &lt;2&gt;</span>
      <span class="p">:</span><span class="n">setProperty</span><span class="p">(</span><span class="n">hs.eventtap</span><span class="p">.</span><span class="n">event.properties</span><span class="p">.</span><span class="n">mouseEventClickState</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
      <span class="p">:</span><span class="n">post</span><span class="p">()</span> <span class="c1">-- &lt;3&gt;</span>
   <span class="n">hs.eventtap</span><span class="p">.</span><span class="n">event.newMouseEvent</span><span class="p">(</span> <span class="c1">-- &lt;4&gt;</span>
     <span class="n">hs.eventtap</span><span class="p">.</span><span class="n">event.types</span><span class="p">.</span><span class="n">leftMouseUp</span><span class="p">,</span> <span class="n">pos</span><span class="p">,</span> <span class="n">modifiers</span><span class="p">):</span><span class="n">post</span><span class="p">()</span>
<span class="kr">end</span></code></pre></div>
<p>In this example we can also see some examples of the Hammerspoon
library in action, in particular two extremely powerful libraries: <a href="http://www.hammerspoon.org/docs/hs.mouse.html"><code>hs.mouse</code></a> for interacting with the mouse pointer, and <a href="http://www.hammerspoon.org/docs/hs.eventtap.html"><code>hs.eventtap</code></a>, which allows you to both intercept and
generate arbitrary system events, including key pressed and mouse
clicks. This function simulates a double click on the current pointer
position:</p>

<ol>
<li><p>We first get the current position of the mouse pointer using <a href="http://www.hammerspoon.org/docs/hs.mouse.html#getAbsolutePosition"><code>hs.mouse.getAbsolutePosition()</code></a>.</p></li>

<li><p>We create a new mouse event of type <a href="http://www.hammerspoon.org/docs/hs.eventtap.event.html#types"><code>leftMouseDown</code></a> in the obtained coordinates and with
the given modifiers.</p></li>

<li><p>By convention, most Hammerspoon API methods return the same object
on which they operate. This allows us to chain the calls as shown:
<code>setProperty()</code> is called on the <code>hs.eventtap</code> object returned by
<code>newMouseEvent</code> to set its type to a double click, and <code>post()</code> is
called on the result to issue the event.</p></li>

<li><p>Since we are generating system events directly, we also need to take
care of generating a &ldquo;mouse up&rdquo; event at the end.</p></li>
</ol>

<p>Function parameters are always optional, and those not passed will
default to <code>nil</code>, so you need to do proper validation. In this
example, the function can be called as <code>leftDoubleClick()</code>, without
any parameters, which means the <code>modifiers</code> parameter might have a
<code>nil</code> value. Looking at the
<a href="http://www.hammerspoon.org/docs/hs.eventtap.event.html#newMouseEvent">documentation for <code>newMouseEvent()</code></a>,
we see that the parameter is optional, so for this particular function
our use is OK.</p>

<p>You should try this function to see that it works. Adding it to you
<code>~/.hammerspoon/init.lua</code> function will make Hammerspoon define it the
next time you reload your configuration. You could then try calling it
from the console, but the easiest is to bind a hotkey that will
generate a double click. For example:</p>
<div class="highlight"><pre class="chroma"><code class="language-lua" data-lang="lua"><span class="n">hs.hotkey</span><span class="p">.</span><span class="n">bindSpec</span><span class="p">({</span> <span class="p">{</span> <span class="s2">&#34;cmd&#34;</span><span class="p">,</span> <span class="s2">&#34;ctrl&#34;</span><span class="p">,</span> <span class="s2">&#34;alt&#34;</span> <span class="p">},</span> <span class="s2">&#34;p&#34;</span> <span class="p">},</span>
                   <span class="n">leftDoubleClick</span><span class="p">)</span></code></pre></div>
<p>Once you reload your config, you can generate a double click by moving
the cursor where you want it and pressing <kbd>Ctrl</kbd>+<kbd>Cmd</kbd>+<kbd>Alt</kbd>+<kbd>p</kbd>
. While this is a contrived example, the ability to generate
events like this is immensely powerful in automating your system.</p>

<aside class="admonition tip">
	<div class="admonition-icon">
		<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 8 8">
  <path d="M3.41 0a.5.5 0 0 0-.13.06l-3 1.5a.5.5 0 1 0 .44.88l3-1.5a.5.5 0 0 0-.31-.94zm1 1.5a.5.5 0 0 0-.13.06l-4 2a.5.5 0 1 0 .44.88l4-2a.5.5 0 0 0-.31-.94zm0 2a.5.5 0 0 0-.13.06l-3 1.5a.5.5 0 0 0 .22.94h2a.5.5 0 0 0 .16-1l1.06-.56a.5.5 0 0 0-.31-.94zm-2.56 3.5a.5.5 0 0 0 .16 1h1a.5.5 0 1 0 0-1h-1a.5.5 0 0 0-.09 0 .5.5 0 0 0-.06 0z"
  transform="translate(1)" />
</svg>

	</div>
	
	
	<div class="admonition-content"><p>By now you have seen that we are using <kbd>Cmd</kbd>+<kbd>Ctrl</kbd>+<kbd>Alt</kbd>
 very
frequently in our keybindings. To avoid having to type this every
time, and since the modifiers are defined as an array, you can define
them as variable. For example, I have the following at the top of my
<code>init.lua</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-lua" data-lang="lua"><span class="n">hyper</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&#34;cmd&#34;</span><span class="p">,</span><span class="s2">&#34;alt&#34;</span><span class="p">,</span><span class="s2">&#34;ctrl&#34;</span><span class="p">}</span>
<span class="n">shift_hyper</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&#34;cmd&#34;</span><span class="p">,</span><span class="s2">&#34;alt&#34;</span><span class="p">,</span><span class="s2">&#34;ctrl&#34;</span><span class="p">,</span><span class="s2">&#34;shift&#34;</span><span class="p">}</span></code></pre></div>
<p>Then I simply use <code>hyper</code> or <code>shift_hyper</code> in my key binding declarations:</p>
<div class="highlight"><pre class="chroma"><code class="language-lua" data-lang="lua"><span class="n">hs.hotkey</span><span class="p">.</span><span class="n">bindSpec</span><span class="p">({</span> <span class="n">hyper</span><span class="p">,</span> <span class="s2">&#34;p&#34;</span> <span class="p">},</span> <span class="n">leftDoubleClick</span><span class="p">)</span></code></pre></div></div>
</aside>


<h2 id="until-next-time">Until next time!</h2>

<p>In the <a href="/post/just-enough-lua-to-be-productive-in-hammerspoon-part-2/">next installment</a>, we will dive into Lua&rsquo;s types and data structures. In the
meantime, feel free to explore and learn on your own. If you need more
information, I can recommend the following resources, which I have
found useful:</p>

<ul>
<li><p><a href="http://www.lua.org/manual/5.3/">The Lua 5.3 Reference Manual</a>,
available at the official <a href="http://www.lua.org">Lua website</a>.</p></li>

<li><p><a href="http://lua-users.org/wiki/">The Lua Wiki</a>, a community-maintained
wiki with many descriptions, tips, examples and tutorials.</p></li>
</ul>
      </section>
      

  <ul class="list dib ml0 pl0" id="tags">
    <li class="b black dib mb2 mr3">Tags: </li>
    
      <li class="black dib mb2 mr2"><a href="/tags/hammerspoon" class="link mid-gray dim">hammerspoon</a> </li>
    
      <li class="black dib mb2 mr2"><a href="/tags/lua" class="link mid-gray dim">lua</a> </li>
    
      <li class="black dib mb2 mr2"><a href="/tags/howto" class="link mid-gray dim">howto</a> </li>
    
      <li class="black dib mb2 mr2"><a href="/tags/mac" class="link mid-gray dim">mac</a> </li>
    
  </ul>
  
  
  
  
  
    <div class="mt5 f6 gray nested-lh-copy bg-light-gray ph3 pv2 measure-wide-l">
      <ul class="list dib ml0 pl0">
        <li class="black dib mb2 mr2">
          Related:
        </li>
        
          
            <li class="mb2 mr3">
              <a href="/post/my-hammerspoon-configuration-with-commentary/" class="link mid-gray dim">
                 My Hammerspoon Configuration, With Commentary
              </a>
            </li>
          
        
          
            <li class="mb2 mr3">
              <a href="/post/just-enough-lua-to-be-productive-in-hammerspoon-part-2/" class="link mid-gray dim">
                 Just Enough Lua to Be Productive in Hammerspoon, Part 2
              </a>
            </li>
          
        
          
        
          
            <li class="mb2 mr3">
              <a href="/post/fixing-outlook-to-omnifocus-script/" class="link mid-gray dim">
                 Fixing the Outlook-to-OmniFocus Script
              </a>
            </li>
          
        
          
            <li class="mb2 mr3">
              <a href="/post/using-spoons-in-hammerspoon/" class="link mid-gray dim">
                 Using Spoons in Hammerspoon
              </a>
            </li>
          
        
          
            <li class="mb2 mr3">
              <a href="/post/getting-started-with-hammerspoon/" class="link mid-gray dim">
                 Getting Started With Hammerspoon
              </a>
            </li>
          
        
      </ul>
    </div>
  


      <div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "zzamboni-org" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </article>
    <div class="ph3 mt2 mt6-ns">
      <div class="bg-light-gray pa3">
      <p class="list b mb3">What's in this Post</p>
      <nav id="TableOfContents">
<ul>
<li class="list f5 w-100 hover-bg-white nl1">
<ul>
<li class="list f5 w-100 hover-bg-white nl1"><a class="link ph2 pv2 db black"href="#flow-control">Flow control</a></li>
<li class="list f5 w-100 hover-bg-white nl1"><a class="link ph2 pv2 db black"href="#dot-vs-colon-method-access-in-lua">Dot-vs-colon method access in Lua</a></li>
<li class="list f5 w-100 hover-bg-white nl1"><a class="link ph2 pv2 db black"href="#functions">Functions</a></li>
<li class="list f5 w-100 hover-bg-white nl1"><a class="link ph2 pv2 db black"href="#until-next-time">Until next time!</a></li>
</ul></li>
</ul>
</nav>
</div>
<br/></div>
  </div>

    </main>
    <footer class="bg-near-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
    <a class="f5 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://zzamboni.org/" >
      &copy; 2018 Diego Zamboni
    </a>
    <div class="f5 fw1 no-underline white-70 dn dib-ns tl pv2 ph3" >Made with love, coffee,&nbsp;and published using <a class="no-underline hover-white white-70" href="http://gohugo.io/">Hugo 0.45.1</a>
            &plus; <a class="no-underline hover-white white-70" href="https://github.com/budparr/gohugo-theme-ananke">Ananke</a></div>
    



  <a href="https://twitter.com/zzamboni" class="link-transition twitter link dib z-999 pt3 pt0-l mr2" title="Twitter link">
    <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/></svg>

  </a>




  </div>
</footer>

    <script src="https://zzamboni.org/dist/app.bundle.js" async></script>

  </body>
</html>
